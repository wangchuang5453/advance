更安全？更高效？

效率 = 数量/时间
是因为建立在https协议的基础上，高效？是因为通过二进制分帧
（高效这个词还是模糊了，到底是数量多了，还是时间少了，还是都有优化，进一步看）

完全兼容1.x，在1.x基础上进行的升级

https://juejin.cn/post/6844903667569541133
## http1.1存在的问题

对于同一个域名，浏览器最多只能同时创建 6~8 个 TCP 连接 (不同浏览器不一样)。
**为了解决数量限制**，出现了 域名分片 技术，其实就是资源分域，将资源放在不同域名下 (比如二级子域名下)，这样就可以针对不同域名创建连接并请求，以一种讨巧的方式突破限制，
但是滥用此技术也会造成很多**问题**，
1、比如每个 TCP 连接本身需要经过 DNS 查询、三步握手、慢启动等(看图tcp6，在图中可以看到新建了六个 TCP 连接，每次新建连接 DNS 解析需要时间(几 ms 到几百 ms 不等)、TCP 慢启动也需要时间、TLS 握手又要时间，而且后续请求都要等待队列调度)，
2、还占用额外的 CPU 和内存，
3、对于服务器来说过多连接也容易造成网络拥挤、交通阻塞等，
4、放在移动端来说这些问题更加明显

上述利用了管线化这个特性，但是**管线化存在诸多问题**，
比如第一个响应慢还是会阻塞后续响应（线头阻塞）、
服务器为了按序返回相应需要缓存多个响应占用更多资源、
浏览器中途断连重试服务器可能得重新处理多个请求、
还有必须客户端 - 代理 - 服务器都支持管线化

Header 内容多，而且每次请求 Header 不会变化太多，没有相应的压缩传输优化方案

为了尽可能减少不必要的请求数，需要做合并文件、雪碧图、资源内联等优化工作，
但是这无疑造成了单个请求内容变大延迟变高的问题，且内嵌的资源不能有效地使用缓存机制

明文传输不安全

## http2的优势

二进制分帧层
帧是数据传输的最小单位，以二进制传输代替原本的明文传输，原本的报文消息被划分为更小的数据帧:

8bit = 1Byte

帧的英文是frame，这个单词古已有之，当时意指画框，也作动词，指给画装上画框。
后来有了电影和计算机动画，也就沿用了这个意思，把其中的一幅幅画面称为frame。
译作中文时，选了古汉语中字画的量词“帧”。现仍有“装帧”一词。一幅画装上框之后，便是独立的、拥有完整含义的一个整体了。
于是在计算机通信中，把拥有完整含义的一段信息称为frame。
以太网上传输的一段比特序列，开始于01交替的前导码，后接目标机器MAC地址、源地址……终结于校验码FCS，实在是一个完美的整体。因此，称其为Ethernet frame。
翻译时也就沿用了之前的译法，称作“以太网帧”。
综上，“帧”表示了数据的边界，将**相对完整、独立的一段信息**划分为一帧。
因此，帧的长度和结构由具体应用决定，并没有统一的形态。





